% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analyze_polypharmacy.R
\name{analyze_polypharmacy_episodes}
\alias{analyze_polypharmacy_episodes}
\title{Analyze Polypharmacy Episodes from CPRD Treatment Data}
\usage{
analyze_polypharmacy_episodes(
  treatment_episodes,
  poly_threshold = 5,
  show_tables = TRUE,
  n_preview = 10
)
}
\arguments{
\item{treatment_episodes}{A data frame with columns: patid, prodcodeid, episode_start, episode_end}

\item{poly_threshold}{Integer. Minimum number of concurrent drugs to define polypharmacy (default: 5)}

\item{show_tables}{Logical. Display intermediate data tables (default: TRUE)}

\item{n_preview}{Integer. Number of rows to preview in tables (default: 10)}
}
\value{
A list containing:
  \item{episodes}{Data frame of individual polypharmacy episodes}
  \item{summary}{Overall summary statistics}
  \item{patient_summary}{Patient-level statistics}
  \item{duration_dist}{Distribution of episode durations}
  \item{drug_count_dist}{Distribution of concurrent drug counts}
  \item{daily_drug_use}{Daily drug usage data (intermediate)}
  \item{daily_polypharmacy}{Daily polypharmacy counts (intermediate)}
}
\description{
This function takes treatment episodes and identifies polypharmacy periods,
summarizing episode characteristics and patient-level patterns with detailed
step-by-step processing output.
}
\examples{
# Basic usage with full output
poly_results <- analyze_polypharmacy_episodes(treatment_episodes)

# Quiet mode (no intermediate tables)
poly_results <- analyze_polypharmacy_episodes(treatment_episodes, show_tables = FALSE)

# Custom threshold with more preview rows
poly_results <- analyze_polypharmacy_episodes(treatment_episodes,
                                             poly_threshold = 4,
                                             n_preview = 15)

}
