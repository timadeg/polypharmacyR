% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_cprd_data.R
\name{process_cprd_data}
\alias{process_cprd_data}
\title{Process CPRD Data for Polypharmacy Analysis}
\usage{
process_cprd_data(
  drug_issue,
  patient,
  product_dict,
  practice,
  staff,
  default_duration = 28,
  grace_period = 30
)
}
\arguments{
\item{drug_issue}{Data frame containing drug prescription records from CPRD}

\item{patient}{Data frame containing patient demographic and registration data}

\item{product_dict}{Data frame containing drug product dictionary with BNF codes}

\item{practice}{Data frame containing practice information}

\item{staff}{Data frame containing staff/prescriber information}

\item{default_duration}{Numeric. Default prescription duration in days when
duration is missing or zero (default: 28)}

\item{grace_period}{Numeric. Grace period in days for treatment episode
continuity (default: 30)}
}
\value{
A processed data frame with integrated CPRD data, cleaned dates,
  and calculated prescription end dates
}
\description{
This function integrates and cleans multiple CPRD tables to prepare data
for polypharmacy analysis. It joins drug issue data with patient demographics,
product information, practice details, and staff information.
}
\details{
The function performs the following operations:
\itemize{
  \item Filters to include only acceptable patients
  \item Joins drug issues with patient demographics and product information
  \item Resolves practice ID conflicts between tables
  \item Cleans and converts date fields
  \item Applies default duration for missing prescription durations
  \item Calculates prescription end dates
  \item Orders data for subsequent episode detection
}
}
\examples{
\dontrun{
processed_data <- process_cprd_data(
  drug_issue = drug_issue,
  patient = patient,
  product_dict = product_dict,
  practice = practice,
  staff = staff,
  default_duration = 28,
  grace_period = 30
)
}

}
