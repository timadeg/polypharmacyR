% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cost_analysis.R
\name{calculate_cost_polypharmacy}
\alias{calculate_cost_polypharmacy}
\title{Calculate Cost Analysis for Polypharmacy Episodes}
\usage{
calculate_cost_polypharmacy(
  poly_episodes,
  drug_cost_data,
  show_tables = TRUE,
  n_preview = 10
)
}
\arguments{
\item{poly_episodes}{Data frame containing polypharmacy episodes with columns:
patid, poly_group, poly_start, poly_end, duration, avg_concurrent_drugs, max_concurrent_drugs}

\item{drug_cost_data}{Data frame containing prescription cost data with columns:
patid, issuedate, estnhscost, prodcodeid}

\item{show_tables}{Logical. Display intermediate data tables (default: TRUE)}

\item{n_preview}{Integer. Number of rows to preview in tables (default: 10)}
}
\value{
A list containing:
  \item{cost_episodes}{Episodes with cost metrics and categorizations}
  \item{patient_cost_summary}{Patient-level cost summaries}
  \item{cost_distribution}{Distribution of cost intensity vs episode categories}
  \item{high_cost_episodes}{Episodes flagged as high or very high cost}
  \item{cost_summary}{Overall cost analysis summary statistics}
}
\description{
This function links polypharmacy episodes with prescription cost data to assess
the economic burden of polypharmacy, providing episode-level and patient-level
cost summaries with categorized cost intensity assessments.
}
\examples{
\dontrun{
# Prepare cost data from processed CPRD data
cost_data <- processed_data \%>\%
  select(patid, issuedate, estnhscost, prodcodeid)

# Run cost analysis
cost_results <- calculate_cost_polypharmacy(
  poly_episodes = poly_results$episodes,
  drug_cost_data = cost_data
)
}

}
